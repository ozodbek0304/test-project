import{f as w,k as N,r as P,j as e,Y as y,Z as S,B as k,x as m,a4 as E,_ as I,a5 as B,a6 as O,a7 as Y,a8 as _,a9 as q,aa as D,ab as j,C as v,P as G}from"./index-BuAxSJaU.js";function M({options:t,paramName:n,label:d,disabled:C,addNew:p,isError:f,returnVal:c="value",className:b}){var u;const i=w(),r=N({from:"/_main"}),s=r[n],[h,o]=P.useState(!1),x=a=>{const l=c==="label"?a.label:a.value;i({search:{...r,[n]:l==s?void 0:l}}),o(!1)},g=()=>{i({search:{...r,[n]:void 0}}),o(!1)};return e.jsxs(y,{modal:!0,open:h,onOpenChange:o,children:[e.jsx(S,{asChild:!0,children:e.jsxs(k,{variant:"outline",role:"combobox","aria-expanded":h,className:m("justify-between font-normal text-muted-foreground",s&&"font-medium text-foreground",f&&"!text-destructive",b),disabled:C,children:[s?((u=t==null?void 0:t.find(a=>a[c]===s))==null?void 0:u.label)||s:d,e.jsx(E,{className:"ml-auto h-4 w-4 shrink-0 opacity-50"})]})}),e.jsx(I,{className:"w-max p-0",children:e.jsxs(B,{children:[e.jsxs("div",{className:"relative",children:[e.jsx(O,{placeholder:d}),!!s&&e.jsx("span",{className:"absolute cursor-pointer text-destructive top-1.5 right-1 p-1",children:e.jsx(Y,{className:"text-destructive",width:16,onClick:g})})]}),e.jsxs(_,{children:[e.jsx(q,{children:"Mavjud emas"}),e.jsxs(D,{children:[t==null?void 0:t.map((a,l)=>e.jsxs(j,{onSelect:()=>x(a),children:[a.label,e.jsx(v,{className:m("ml-auto h-4 w-4",s===a[c]?"opacity-100":"opacity-0")})]},l)),p&&e.jsxs(j,{onSelect:()=>x({label:"New Item",value:-1}),children:[e.jsx(G,{width:20,className:"pr-1"})," Yangi qo'shish",e.jsx(v,{className:m("ml-auto h-4 w-4")})]})]})]})]})})]})}export{M as P};
