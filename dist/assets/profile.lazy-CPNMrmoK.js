import{c as h,u as d,a as p,b as x,j as s,A as b,d as g,e as j,F,B as v,z as t,J as N}from"./index-BuAxSJaU.js";import{F as _}from"./format-number-input-Dhf-qfk7.js";const z=h("/_main/profile")({component:f});function f(){var l,o,c,n;const{patch:i,isPending:r}=d(),{info:a}=p(),e=x({values:{chat_id:((l=a==null?void 0:a.chat_id)==null?void 0:l.toString())||"",phone:(a==null?void 0:a.phone)||""},disabled:r});async function m(u){await i(`auth/users/${a==null?void 0:a.id}/`,u),N.success("Muvaffaqiyatli o'zgartirildi")}return s.jsxs("main",{className:"space-y-6 w-full sm:max-w-[500px]",children:[s.jsxs(b,{className:"w-52 h-52 rounded-lg",children:[s.jsx(g,{src:"https://api.shoshcargo.uz/api/v1/"+((o=a==null?void 0:a.photo)==null?void 0:o.slice(1))||"",className:"object-cover"}),s.jsxs(j,{className:"text-3xl font-semibold rounded-lg bg-white",children:[(c=a==null?void 0:a.first_name)==null?void 0:c.slice(0,1),(n=a==null?void 0:a.last_name)==null?void 0:n.slice(0,1)]})]}),s.jsxs("form",{onSubmit:e.handleSubmit(m),className:"flex flex-col gap-3",children:[s.jsx(F,{control:e.control,label:"Telegram id",name:"chat_id"}),s.jsx(_,{control:e.control,label:"Telefon raqam",name:"phone",format:"+### ## ### ## ##"}),s.jsx(v,{type:"submit",loading:r,children:"O'zgartirish"})]})]})}t.object({chat_id:t.string().min(5,""),phone:t.string().length(9,"")});export{z as Route};
