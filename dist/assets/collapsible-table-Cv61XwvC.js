import{r as c,k as J,j as e,x as h,S as K}from"./index-BuAxSJaU.js";import{u as L,g as O,a as Q,b as U,c as W,d as X,T as Y,e as Z,f as j,h as A,i as N,j as k,k as w,l as p,C as P}from"./cursor-pagination-BTjgdc8e.js";import{P as C}from"./pagination-BuI0EWJ8.js";function se({data:R,columns:i,loading:m,className:v,deleteSelecteds:T,rowSelection:S,setRowSelection:E,onRightClick:n,selecteds_count:z,onRowClick:u,disabled:b,rowColor:g,paginationProps:l,cursorPagination:o,viewAll:f,head:M}){const[F,y]=c.useState([]),[D,H]=c.useState({}),[V,I]=c.useState([]),[_,$]=c.useState([]),[q,B]=c.useState({}),x=J({from:"/_main"}),s=L({data:R||[],columns:i,state:{sorting:F,columnFilters:_,columnVisibility:q,rowSelection:S??V,pagination:{pageIndex:x[(l==null?void 0:l.paramName)||"page"]?+x[(l==null?void 0:l.paramName)||"page"]-1:0,pageSize:x[(l==null?void 0:l.pageSizeParamName)||"page_size"]?+x[(l==null?void 0:l.pageSizeParamName)||"page_size"]:10},expanded:D},onSortingChange:y,onColumnFiltersChange:$,onColumnVisibilityChange:B,onRowSelectionChange:E??I,onExpandedChange:H,getCoreRowModel:O(),getPaginationRowModel:Q(),getSortedRowModel:U(),getFilteredRowModel:W(),getExpandedRowModel:X(),manualPagination:!!(l!=null&&l.totalPages)||!!o||f,getSubRows:t=>t.subRows});return e.jsxs("main",{className:"w-full bg-card border rounded-md overflow-hidden pb-4",children:[!!M&&e.jsx("div",{className:"px-4 py-4",children:M}),z&&e.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row items-end sm:items-center sm:justify-between pb-2",children:[e.jsxs("div",{className:h("flex-1 text-sm text-muted-foreground",!T&&"text-end"),children:[s.getFilteredRowModel().rows.length," dan"," ",s.getFilteredSelectedRowModel().rows.length," ta qator tanlandi."]}),e.jsx("div",{})]}),e.jsxs("div",{className:"overflow-x-auto relative",children:[m&&e.jsx("div",{className:"absolute top-0 w-full h-full grid place-items-center bg-black/80 z-20",children:e.jsx(K,{color:"secondary"})}),e.jsxs(Y,{className:`${v} select-text bg-card`,children:[e.jsx(Z,{children:s.getHeaderGroups().map(t=>e.jsx(j,{children:t.headers.map((a,r)=>e.jsx(A,{className:h(S&&a.index===0&&"w-8","text-xs px-4"),children:a.isPlaceholder?null:N(a.column.columnDef.header,a.getContext())},r))},t.id))}),e.jsx(k,{children:s.getRowModel().rows.length>0?s.getRowModel().rows.map((t,a)=>{var r;return e.jsx(j,{"data-state":t.getIsSelected()&&"selected",onContextMenu:d=>{d.preventDefault(),n==null||n(t.original)},className:h(`hover:bg-border/50 border-none ${g==null?void 0:g(t.original)}`,!((r=t.original)!=null&&r.id)||t.getCanExpand()?"bg-muted":"",t.getIsExpanded()&&"bg-border/40","h-full"),onClick:t.getCanExpand()?t.getToggleExpandedHandler():()=>{},children:t.getVisibleCells().map((d,G)=>e.jsx(w,{onClick:()=>{u==null||u(d.row.original)},className:`cursor-pointer px-4 !h-10 !text-sm ${d.column.id==="non-clickable"&&"cursor-default"}`,children:N(d.column.columnDef.cell,d.getContext())},G))},a)}):e.jsx(j,{children:e.jsx(w,{colSpan:i.length,className:"h-24 text-center",children:"Ma'lumotlar topilmadi"})})}),e.jsx(p,{})]})]}),!f&&e.jsx("div",{className:"pt-4 mx-auto w-max",children:l!=null&&l.totalPages?e.jsx(C,{disabled:b||m,...l}):o?e.jsx(P,{...o,disabled:b||m}):e.jsx(C,{disabled:b||m,...l,totalPages:s.getPageCount()||1,PageSize:s.getState().pagination.pageSize})})]})}export{se as C};
