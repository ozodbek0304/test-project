import{r as u,k as A,j as e,x as h,S as J}from"./index-BuAxSJaU.js";import{u as L,g as O,a as Q,b as U,c as W,T as X,e as Y,f as S,h as Z,i as C,j as k,k as R,l as P,C as p}from"./cursor-pagination-BTjgdc8e.js";import{P as y}from"./pagination-BuI0EWJ8.js";function le({data:b,columns:d,loading:m,className:F,deleteSelecteds:D,rowSelection:i,setRowSelection:V,onRightClick:n,selecteds_count:_,onRowClick:o,disabled:j,rowColor:f,paginationProps:t,cursorPagination:g,viewAll:N,head:w}){var M,v,T;const[q,H]=u.useState([]),[B,E]=u.useState([]),[I,$]=u.useState([]),[G,K]=u.useState({}),c=A({from:"/_main"}),l=L({data:b||[],columns:d,onSortingChange:H,onColumnFiltersChange:$,getCoreRowModel:O(),getPaginationRowModel:Q(),getSortedRowModel:U(),getFilteredRowModel:W(),onColumnVisibilityChange:K,onRowSelectionChange:V??E,state:{sorting:q,columnFilters:I,columnVisibility:G,rowSelection:i??B,pagination:{pageIndex:c[(t==null?void 0:t.paramName)||"page"]?+c[(t==null?void 0:t.paramName)||"page"]-1:0,pageSize:c[(t==null?void 0:t.pageSizeParamName)||"page_size"]?+c[(t==null?void 0:t.pageSizeParamName)||"page_size"]:10}},manualPagination:!!(t!=null&&t.totalPages)||!!g||N});return e.jsxs("main",{className:"w-full bg-card border rounded-md overflow-hidden pb-4",children:[!!w&&e.jsx("div",{className:"px-4 py-4",children:w}),_&&e.jsx("div",{className:"flex flex-col gap-2 sm:flex-row items-end sm:items-center sm:justify-between pb-2",children:e.jsxs("div",{className:h("flex-1 text-sm text-muted-foreground",!D&&"text-end"),children:[(M=l.getFilteredRowModel().rows)==null?void 0:M.length," dan"," ",(v=l.getFilteredSelectedRowModel().rows)==null?void 0:v.length," ta qator tanlandi."]})}),e.jsxs("div",{className:"overflow-x-auto relative",children:[m&&e.jsx("div",{className:"absolute top-0 w-full h-full grid place-items-center bg-black/80 z-20",children:e.jsx(J,{color:"secondary"})}),e.jsxs(X,{className:`${F} select-text bg-card`,children:[e.jsx(Y,{children:l.getHeaderGroups().map((a,r)=>e.jsx(S,{children:a.headers.map((s,x)=>e.jsx(Z,{className:h(i&&x===0&&"w-8","text-xs px-4"),children:s.isPlaceholder?null:C(s.column.columnDef.header,s.getContext())},x))},r))}),e.jsx(k,{children:((T=l.getRowModel().rows)==null?void 0:T.length)>0?l.getRowModel().rows.map((a,r)=>e.jsx(S,{"data-state":a.getIsSelected()&&"selected",onContextMenu:s=>{s.preventDefault(),n==null||n(a.original)},className:h(`hover:bg-border/50 border-none ${f==null?void 0:f(a.original)}`,r%2===0?"bg-secondary":""),children:a.getVisibleCells().map((s,x)=>e.jsx(R,{onClick:()=>!z(s.column.id)&&(o==null?void 0:o(s.row.original)),className:h("cursor-pointer px-4 !text-sm",z(s.column.id)&&"cursor-default"),children:C(s.column.columnDef.cell,s.getContext())},x))},r)):e.jsx(S,{children:e.jsx(R,{colSpan:d==null?void 0:d.length,className:"h-24 text-center",children:"Mavjud emas"})})}),e.jsx(P,{})]})]}),!N&&e.jsx("div",{className:"pt-4 mx-auto w-max",children:t!=null&&t.totalPages?e.jsx(y,{disabled:j||m,...t}):g?e.jsx(p,{...g,disabled:j||m}):e.jsx(y,{disabled:j||m,...t,totalPages:l.getPageCount(),PageSize:l.getState().pagination.pageSize})})]})}function z(b){return["code","phone_number","Amallar","Boshqarish","Kirim","Chiqim"].includes(b)}export{le as D};
